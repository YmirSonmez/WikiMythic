[[_TOC_]]

5.6.2
=====

Random Spawning
---------------
- Rewrote the random spawning generator and added some new config options
- Added `ReplaceObeysCap` to random spawning, defaulting to false.

Bugs / Other
------------
- Added `onSummon` (alias `then`) attribute to `summon` mechanic, if specified will run the skill on the summoned mob after it's summoned.
- Added `<caster/target/trigger.raytrace.#>` placeholder
- Added `<target/trigger.stat.STAT_NAME>` placeholder
- Added `DisplayOptions.TeleportDuration` option
- Added `Options.VisibleByDefault`
- Added `executeAfterDeath=true` option to `skill` and `vskill` mechanics
- Added `fakelightning` and `fakeexplosion` aliases for those effect mechanics
- Added `fromOrigin` to fireball mechanic
- Added `inheritDespawnOption` option to summon mechanic
- Added placeholder support to `limit` targeter option
- Added placeholder support to WEPasteSchematicMechanic `x/y/z` offsets and `rotation` options
- Added sub-hitbox deep active mob parent search
- Attempt to catch errors in command mech to prevent npc breakage
- Changed `permanent` option in hide mechanic to `ignoreAuraOptions`
- Fixed spawner data sometimes getting wiped during reloads
- Fixed GlowEffect auras not merging correctly
- Fixed GlowEffect NPE
- Fixed IllegalArgumentException in cluster spawning generator
- Fixed NPE in Fireball mechanic closes #1561
- Fixed NPE with invalid skill parameters
- Fixed NPE with new random spawn generator
- Fixed NPEs in GlowManager
- Fixed NoSuchMethodError when spawning mobs
- Fixed StackOverflowError caused by mob recursively damaging itself closes #1546
- Fixed block light and sky light display options
- Fixed error with EnderDragonAlive condition used with random spawns closes #1539
- Fixed extremely rare race condition with mobs despawning the same tick they die
- Fixed IllegalArgumentException in cluster spawning generator
- Fixed mobs with no display name set having a display name
- Fixed non-mob entities throwing an error with PreventOtherDrops
- Fixed pin wand being able to break blocks
- Fixed potion clear mechanic not clearing all potion effects when not providing any type.
- Fixed some bugs with the Biomes field in random spawners closes #1558
- Fixed some more issues with multi-hitbox support
- Fixed `repeat=X` not working if repeatInterval is 0 closes #1555
- Fixed scope.raytrace placeholders
- Fixed bugs with rally mechanic
- Removed a cancelDamage alias

5.6.1
=====
- Added various new config options for items and drops
- Added more tab completion to commands
- Added all the new fancy drop effects for vanilla items
- Added all the new fancy drop effects for MMOItems items
- Added placeholder support to variable keys
- Added some API stuff for item updating
- Added more debugging information when a LibsDisguises disguise throws an error
- Added placeholder support to @Pin targeter
- Added way to use the trigger's stats in DamageModifier stats
- Added Parent stats and capabilities for DamageModifier stat types
- Added `stopCondition` to projectiles
- Added `castasorbital` to orbital
- Rewrote part of spawner saving
- Fixed spawner files not deleting
- Fixed ConcurrentModificationException that could rarely occur when copying spawners
- Fixed plugin not loading on regular spigot - per-player drops require paper
- Fixed fancy drop effects causing items added thru the api to not roll amounts closes #1502
- Fixed mechanics still firing if a death event has been cancelled (does not...
- Fixed recursive issue with cancelevent
- Fixed some spawner command bugs
- Fixed some loading bugs introduced with the change to default lowercase folder names
- Fixed spawner copying not copying the spawner's group
- Fixed `<caster.score.>` placeholder?
- Fixed exit aura spelling`
- Fixed complex stat initialization with formulas and ordering problems
- Allow placeholder on projectile vertical radius
- Fixed vector rotation calculation
- Fixed NPE in ActiveInfo utility command


5.6.0
=====

Highlights
----------
- Rewrote config files. Old settings should automatically migrate and are now located in a new `configs` folder
- Added new `Fancy` Drops Per-Player Loot Drops
- Glow effects no longer requires GlowAPI
- Mob Egg improvements

General
-------
- Improved output of getCoordinates utility command

Configs
-------
- Added new config options for different hologram features and adjusted some settings

Pins
----
- Added & improved some pin commands
- Added `/mm pins toggleviewing` command for holograms
- Added `/mm pins move` command
- Changed `/mm pins list` to sort by nearest pins to you

Mobs
----
- Added `Variables` field to mobs for pre-set variables available to skills
- Added `Nameplate.Mounted: false` option for MEG mobs
- Mob eggs are now fully configurable in `config-mobs.yml` and the display/lore can be overridden on a per-mob basis
```
SomeMob:
  Egg:
    Display: '<caster.name> EGG'
    Lore:
    - 'im a testing egg'
```

Mechanics
---------

### `NEW: followPath`
- Added `followPath mechanic` - an aura causing the target mob to walk along a defined path

### `NEW: modifyDamage`
- Make `modifyDamage` mechanic's default damage type be `ALL`
- Make `modifyDamage` mechanic modify all damage types if `type=ALL`
- Added `modifyDamage` mechanic allowing modification of the damage of the current triggering event

### `Auras`
- Added `cancelOnCasterDeath=true` option to all aura mechanics
- Added debugging info for auras

### `Hide`
- Hide Mechanic now extends Aura
- Added AbstractPlayer#hideEntity and AbstractPlayer#showEntity

### `Hit`
- Added `forcedDamage` to hit mechanic

### `Glow`
- Glow Effect no longer requires GlowAPI
- Glow Effect now extends Aura

### `takeItem`
- Fixed other bugs with `takeItem` mechanic
- Added `exact=false` option to `takeItem` mechanic

Conditions
----------
### `NEW: lookingAt`
- Added lookingAt player condition

### `NEW: originLocation`
- Added `originLocation{location=x,y,z}` condition to match if the origin is at a specific location

Triggers
--------
- Added `onSkillDamage` trigger, triggered by skill damage

Targeters
---------
- Added `bb=false` filter to make a targeter ignore MEG subhitboxes
- Added `unique=false` entity targeter option, setting to false will allow a targeter to hit multiple sub-hitboxes at once on a modeled mob

Placeholders
------------
- Added various `caster.target.` placeholders to act on the target of the caster
- `<trigger.item.amount>` placeholder added

Mob Drops
---------
- Added various new drop options

RandomSpawning
--------------
- Added new options such as `LimitMultiplier` to help control Random Spawning

API
---
- Added PlayerLevelProvider
- Added `MythicMobEggEvent` for when an egg is used

Bugs / Other
------------
- Allowed placeholders in `radius` and `minRadius` attributes in `@RandomLocationsNearTargets` targeter
- Fixed jigsaw structures not working with structure condition
- Fixed NPE in GoToParent goal
- Fixed onDamaged mechanic not working with custom damage types or multi-type damage
- Fixed per-player loot vfx not moving with the loot with fancy drops
- Fixed some backwards compatibility issues with the placeholder refactor
- Fixed bug with hologram culling
- Fixed inline items with skull textures throwing a Bukkit error
- Skills will now try to detect if there's a `cancelevent` mechanic somewhere
- Fixed double placeholders showing a decimal point when rounding=0
- Fixed holograms sometimes appearing in the wrong world
- Fixed target.l.x placeholder
- Fixed `<caster.level>` placeholder to default to rounding to 0 places
- Fixed typo in WorldScaling config parser
- Fixed bug with world scaling
- Fixed a potential bug in TargetInLineOfSight condition
- Fixed crash caused by PreventTeleporting on endermen (closes #1431)
- Fixed some bugs with pins
- Fixed NPE in ActiveMob.checkEquipment
- Fixed bug with using type=ALL with damageMod
- Fixed action attribute in damageMod mechanic
- Fixed recursive damage bug with lightning mechanic on onDamaged trigger
- Fixed recursive damage bug with lightning mechanic on onDamaged trigger (again)
- Fixed some placeholder bugs
- Fixed ClassCastException in mob listener involving vanilla overrides
- Fixed bottleneck with getting a mob's children from an async thread
- Fixed bugs causing placeholders registered from add-ons not processing until after a reload
- Fixed some things in the default stats.yml file
- Fixed for potential memory leak involving random spawners used with MythicDungeons
- Fixed bugs with auras that don't have names set
- Fixed StatAura not giving stats for additional stacks
- Fixed bug in stat displays and keys
- Fixed custom MM nameplates trying to apply to MEG modeled mobs instead of vanilla mobs
- Fixed caster spawn targeter mutating location
- Fixed villager trade 2nd item using 1st count
- Fixed metadata not syncing between subhitbox and parent on MEG mobs
- Fixed projectiles not hitting MEG OBBs
- Fixed look mech pitch and yaw being swapped
- Fixed BlockLight and SkyLight properties
- Fixed event firing before bullets are set
- Fixed guardian beam issues
- Fixed @self targeter sometimes requiring targetself=true which is unintuitive
- Fixed PreventOtherDrops not affecting equipped items closes #1474
- Fixed `<<` for ranges not working with nested placeholders
- Fixed `@playersNearTargetLocations` meta-targeter not working with base entity targets
- Fixed NPE with incorrectly configured mob bullets closes #1481
- Fixed attack speed stat throwing an error on mobs that don't support attack speed closes #1484
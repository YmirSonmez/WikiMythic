
# 5.9.5

Bug Fixes
---------
- Updated some dependencies
- Fixed items with attributes not stacking when they should
- Fixed certain durability-related things not using data from the new durability components
- Fixed some errors with level modifiers
- Fixed several issues with recoil effect on newer versions
- Fixed the freezeFacing option for the stun mechanic being inverted

# 5.9.4

Bug Fixes
---------
- Added `ignoreEntities` for raytraceTo mechanic
- Fixed `ignorePassable=false` in raytrace mechanics phasing through barrier blocks 

# 5.9.3

Bug Fixes
---------
- Fixed some issues with ignoreSameFaction target filter

# 5.9.2

General
-------
- Added `teleportToWorld=true/false` to `GoToOwner/Parent` AI Goals.
- Add "goal/g" aliases to runaitargetselector so they match the error message
- Added `%mythic_stat_...%` papi placeholder
- Added `<target.distanceSq>` and `<trigger.distanceSq>` placeholders

Conditions
----------
### NEW: CompareValues

Bug Fixes
---------
- Fixed suicide mechanic not counting the mob as damaging itself closes #1584
- Fixed speech bubbles having yaw/pitch inverted on newer versions
- Fixed MountMe mechanic maybe
- Fixed MapList elements not working for configured item NBT
- Fixed IllegalArgumentException with vanilla loot table drops closes #1949
- Fixed error with mob types with copying mob spawners closes #1951
- Fixed error in shield mechanic closes #1955
- Fixed NPE in `<skill.targets>` placeholder closes #1961
- Fixed ClientboundSetEntityDataPacket error on 1.21.4
- Fixed ops being put into every faction in the PermissionFactionProvider
- Fixed StackOverflowError on non-english servers
- Fixed plugin not loading when a menu icon is misconfigured

# 5.9.1

Bug Fixes
---------
- Fixed VariableMath mechanic not supporting double variables
- Fixed some bugs with ItemMatcher
- Fixed moveTowardsTargetConditional AI goal
- Fixed bouncing projectiles
- Fixed several other issues with projectiles
- Optimized projectiles that don't have hit skills
- Fixed `Options.Color` not working on potions
- Fixed error where projectiles with insanely high velocity could crash the server
- Fixed raytrace error on 1.21.5
- Fixed custom damage stats not triggering onDamaged auras
- Fixed `hitself` not working on projectiles

# 5.9.0

General
-------
- Added `/pins regionRedefine` command.
- Changed pack icons to use Mythic item syntax.
- Scaling Equations and `LevelModifiers` can now work with any stats.
- Added step and lerp functions to all numeric placeholders

```
step(e, x) { 0, x < e; 1, x >= e
lerp(a, b, r)
```

Mechanics
---------
### NEW: swingOffhand
- Added `swingOffhand` mechanic.

### NEW: setEntityPose
- Added `setEntityPose{pose=X}` mechanic.

### NEW: setItemGroupCooldown
- Added `setItemGroupCooldown{group=namespace:key;ticks=20}` mechanic.

### Hit
- Added `scaleByAttackCooldown` to hit mechanic (scales damage based on weapon attack cooldown).

### Leap
- Noise now defaults to `0` on the `Leap` mechanic.

### MetaSkill
- Added `snapshotStats=true` to `MetaSkill` mechanic.

### Missile
- Added `startWithParentVelocity` option to `missile` mechanic.

### Projectiles
- Added HitTargeter to projectile type mechanics

hitTarget htr accepts an entity targeter. Entities targeted by htr would be processed through onHit and gain immune delay

### Slash
- Add `specificStep/ss` to SlashMechanic

### Totem
- `faceAwayFromCaster=true` option added to Totem mechanic.
- `hugSurface=true` option added to Totem mechanic.

### Wait
- New special keyword mechanic `wait`
- Will pause the skill tree until a condition is met

Conditions
----------

### NEW: itemGroupOnCooldown
- Added `itemGroupOnCooldown{group=namespace:key}` condition.

### NEW: Server Version Conditions
- Added `serverAfter{version=1.21.4;inclusive=true}`, `serverBefore{version=1.21.4;inclusive=false}`, and `serverIsPaper` conditions.

### Stance
- Changed default `strict` value to `true` for the `stance` condition.

Targeters
---------
- Fixed several bugs with `@FloorOfTarget` targeter.
- Changed default `faulty=false` for location selector option.
- Added `relative=true/false` to `@RingAroundOrigin` targeter.

### NEW: `@PlayerLocationByName`
### NEW: `@PredictedTargetLocation`
`@PredictedTargetLocation{ticks=X}`
- Targets the predicted location of the caster's target in the next X ticks based on their velocity

Triggers
---------
- Renamed `onTridentHit` to `onProjectileHit`, `onTridentThrow` to `onProjectileThrow`.
- Added `onProjectileLand` trigger.

Placeholders
------------
### NEW: Distance Placeholders
- Added `<target.distance>` and `<trigger.distance>` placeholders.

### NEW: Epoch Placeholders
- Added `<utils.epoch>`, `<utils.epoch.millis>`, and `<utils.epoch.ticks>` placeholders.

Items
-----

### Vanilla Loot Table Drop
- Added new drop type `- vanillaLootTable minecraft:table_name` to drop items from vanilla loot tables and data packs.

### BlockStates Component
- Added support for `BlockStates` component to specify block states on items:
  ```yaml
  TestBlockStates:
    Material: OAK_SLAB
    Display: 'Waterlogged Slab'
    Options.Placeable: true
    BlockStates:
    - type top
    - waterlogged true
  ```

### Glider Component
- Added `Glider: true` option to items to implement the Glider component.

### UUID & Timestamp Options
- Added `Options.GenerateUUID: true/false` and `Options.GenerateTimestamp: true/false` to assign a UUID or timestamp to items on generation.

API
---
### NEW: Event Methods
- Exposed event methods.
- Added `MythicSkillEvent` when a skill is called.

### NEW: Crucible & RPG API
- Exposed API for Crucible and RPG features.

### NEW: Packet Display Entities API
- Exposed more API methods for packet-based display entities.

### NEW: Threat Table API
- Exposed threat table map.

### REMOVED: Deprecated Equipment Slot Method
- Removed super-old deprecated method of referencing equipment slots by slot number.

### AI Goals
- Upgraded `ownerTarget` and `ownerAttacker` AI goals to be used by any mob; added `parentAttacker` and `parentTarget` AI goals.
- Refactored owner interfaces for consistency.

Bug Fixes & Optimizations
-------------------------
- General refactoring and internal cleanup.
- Fixed terminable `onTerminate` skill not working in some cases.
- Fixed logic bug with projectile target filters.
- Fixed various mob options not applying since refactor.
- Fixed several bugs arising from stats refactor.
- Fixed API `get` method for max stack size.
- Fixed `IllegalArgumentException` in `ItemMatcher`.
- Fixed `NoSuchMethodError` with projectiles on 1.21.5.
- Fixed bugs in new pet AI features.
- Fixed async error in `MythicSkillEvent`.
- Fixed initial display packet bullet rotation not being used when spinning.
- Fixed an error occurring when a player joins on 1.21.5.
- Fixed MEG bullets on totems not rotating with the spawning entity.
- Fixed NPE with drops introduced recently.
- Fixed breakage with drop weights.
- Fixed last build breaking equipment.
- Fixed Nexo drops not working in equipment.
- Fixed equippable component applying even on pre-1.21.3 versions.
- Fixed certain blocks not working with block‚Äêbased bullets.
- Fixed `swingArm` mechanic on newer versions.
- Fixed multiple errors when loading custom mechanics.
- Fixed `MythicProvider` being registered too late in some cases.
- Fixed typo in `PreventStingerLoss` option.
- Fixed issues with `scaleByAttackCooldown` when hitting multiple targets.
- Fixed several bugs with `@FloorOfTarget` targeter.

